ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"HMC5883.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.HMC5883L_Read,"ax",%progbits
  20              		.align	1
  21              		.global	HMC5883L_Read
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	HMC5883L_Read:
  27              	.LVL0:
  28              	.LFB235:
  29              		.file 1 "Drivers/HMC5883/Src/HMC5883.c"
   1:Drivers/HMC5883/Src/HMC5883.c **** /*
   2:Drivers/HMC5883/Src/HMC5883.c **** File:                HMC5883.c
   3:Drivers/HMC5883/Src/HMC5883.c **** Written by:             Sang Truong Tan
   4:Drivers/HMC5883/Src/HMC5883.c **** Date Written:           02/13/2022
   5:Drivers/HMC5883/Src/HMC5883.c **** Description:
   6:Drivers/HMC5883/Src/HMC5883.c **** References:
   7:Drivers/HMC5883/Src/HMC5883.c **** 
   8:Drivers/HMC5883/Src/HMC5883.c **** *Copyright (C) 2022 - TTSang
   9:Drivers/HMC5883/Src/HMC5883.c ****    This is a free software under the GNU license, you can redistribute it and/or modify it under th
  10:Drivers/HMC5883/Src/HMC5883.c ****    of the GNU General Public Licenseversion 3 as published by the Free Software Foundation.
  11:Drivers/HMC5883/Src/HMC5883.c **** 
  12:Drivers/HMC5883/Src/HMC5883.c ****    This software library is shared with public for educational purposes, without WARRANTY and Autho
  13:Drivers/HMC5883/Src/HMC5883.c ****    or indirectly by this software, read more about this on the GNU General Public License.
  14:Drivers/HMC5883/Src/HMC5883.c **** */
  15:Drivers/HMC5883/Src/HMC5883.c **** 
  16:Drivers/HMC5883/Src/HMC5883.c **** /* Private includes ----------------------------------------------------------*/
  17:Drivers/HMC5883/Src/HMC5883.c **** #include "HMC5883.h"
  18:Drivers/HMC5883/Src/HMC5883.c **** 
  19:Drivers/HMC5883/Src/HMC5883.c **** /* Private variables ---------------------------------------------------------*/
  20:Drivers/HMC5883/Src/HMC5883.c **** 
  21:Drivers/HMC5883/Src/HMC5883.c **** /* Private function definations ----------------------------------------------*/
  22:Drivers/HMC5883/Src/HMC5883.c **** /**
  23:Drivers/HMC5883/Src/HMC5883.c ****   * @brief  The function read data from device's register.
  24:Drivers/HMC5883/Src/HMC5883.c ****   * @param Handle The handle of the hmc5883l ic.
  25:Drivers/HMC5883/Src/HMC5883.c ****   * @param Address The Address of the register.
  26:Drivers/HMC5883/Src/HMC5883.c ****   * @param DataR The buffer's pointer to read the data.
  27:Drivers/HMC5883/Src/HMC5883.c ****   * @param size The size of the data that needs to read.
  28:Drivers/HMC5883/Src/HMC5883.c ****   * @retval HMC5883_Status_t
  29:Drivers/HMC5883/Src/HMC5883.c ****   */
ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 2


  30:Drivers/HMC5883/Src/HMC5883.c **** HMC5883L_Status_t HMC5883L_Read (HMC5883L_Handle_t *Handle,
  31:Drivers/HMC5883/Src/HMC5883.c ****                                         uint8_t Address, uint8_t *DataR, uint8_t size){
  30              		.loc 1 31 87 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 31 87 is_stmt 0 view .LVU1
  35 0000 10B5     		push	{r4, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
  40 0002 84B0     		sub	sp, sp, #16
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 24
  32:Drivers/HMC5883/Src/HMC5883.c ****    HAL_StatusTypeDef status;
  43              		.loc 1 32 4 is_stmt 1 view .LVU2
  33:Drivers/HMC5883/Src/HMC5883.c ****    status = HAL_I2C_Mem_Read(&Handle->hi2c, HMC5883L_ADDRESS << 1, Address, 1,
  44              		.loc 1 33 4 view .LVU3
  45              		.loc 1 33 13 is_stmt 0 view .LVU4
  46 0004 6424     		movs	r4, #100
  47 0006 0294     		str	r4, [sp, #8]
  48 0008 0193     		str	r3, [sp, #4]
  49 000a 0092     		str	r2, [sp]
  50 000c 0123     		movs	r3, #1
  51              	.LVL1:
  52              		.loc 1 33 13 view .LVU5
  53 000e 0A46     		mov	r2, r1
  54              	.LVL2:
  55              		.loc 1 33 13 view .LVU6
  56 0010 3C21     		movs	r1, #60
  57              	.LVL3:
  58              		.loc 1 33 13 view .LVU7
  59 0012 FFF7FEFF 		bl	HAL_I2C_Mem_Read
  60              	.LVL4:
  34:Drivers/HMC5883/Src/HMC5883.c ****                              DataR, size, 100);
  35:Drivers/HMC5883/Src/HMC5883.c ****    if(status != HAL_OK)
  61              		.loc 1 35 4 is_stmt 1 view .LVU8
  62              		.loc 1 35 6 is_stmt 0 view .LVU9
  63 0016 08B9     		cbnz	r0, .L5
  64              	.L2:
  36:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR;
  37:Drivers/HMC5883/Src/HMC5883.c ****    return HMC5883L_OK;
  38:Drivers/HMC5883/Src/HMC5883.c **** }
  65              		.loc 1 38 1 view .LVU10
  66 0018 04B0     		add	sp, sp, #16
  67              	.LCFI2:
  68              		.cfi_remember_state
  69              		.cfi_def_cfa_offset 8
  70              		@ sp needed
  71 001a 10BD     		pop	{r4, pc}
  72              	.L5:
  73              	.LCFI3:
  74              		.cfi_restore_state
  36:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR;
  75              		.loc 1 36 14 view .LVU11
  76 001c 0120     		movs	r0, #1
ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 3


  77              	.LVL5:
  36:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR;
  78              		.loc 1 36 14 view .LVU12
  79 001e FBE7     		b	.L2
  80              		.cfi_endproc
  81              	.LFE235:
  83              		.section	.text.HMC5883L_Write,"ax",%progbits
  84              		.align	1
  85              		.global	HMC5883L_Write
  86              		.syntax unified
  87              		.thumb
  88              		.thumb_func
  90              	HMC5883L_Write:
  91              	.LVL6:
  92              	.LFB236:
  39:Drivers/HMC5883/Src/HMC5883.c **** 
  40:Drivers/HMC5883/Src/HMC5883.c **** /**
  41:Drivers/HMC5883/Src/HMC5883.c ****   * @brief  The function write data to device's register.
  42:Drivers/HMC5883/Src/HMC5883.c ****   * @param Handle The handle type of the hmc5883L ic.
  43:Drivers/HMC5883/Src/HMC5883.c ****   * @param Address The Address of the register.
  44:Drivers/HMC5883/Src/HMC5883.c ****   * @param DataW The buffer's pointer to write the data.
  45:Drivers/HMC5883/Src/HMC5883.c ****   * @param size The size of the data that needs to write.
  46:Drivers/HMC5883/Src/HMC5883.c ****   * @retval HMC5883_State_t
  47:Drivers/HMC5883/Src/HMC5883.c ****   */
  48:Drivers/HMC5883/Src/HMC5883.c **** HMC5883L_Status_t HMC5883L_Write (HMC5883L_Handle_t *Handle,
  49:Drivers/HMC5883/Src/HMC5883.c ****                                          uint8_t Address, uint8_t *DataW, uint8_t size) {
  93              		.loc 1 49 89 is_stmt 1 view -0
  94              		.cfi_startproc
  95              		@ args = 0, pretend = 0, frame = 0
  96              		@ frame_needed = 0, uses_anonymous_args = 0
  97              		.loc 1 49 89 is_stmt 0 view .LVU14
  98 0000 10B5     		push	{r4, lr}
  99              	.LCFI4:
 100              		.cfi_def_cfa_offset 8
 101              		.cfi_offset 4, -8
 102              		.cfi_offset 14, -4
 103 0002 84B0     		sub	sp, sp, #16
 104              	.LCFI5:
 105              		.cfi_def_cfa_offset 24
  50:Drivers/HMC5883/Src/HMC5883.c ****    HAL_StatusTypeDef status;
 106              		.loc 1 50 4 is_stmt 1 view .LVU15
  51:Drivers/HMC5883/Src/HMC5883.c ****    status = HAL_I2C_Mem_Write(&Handle->hi2c, HMC5883L_ADDRESS << 1, Address, 1,
 107              		.loc 1 51 4 view .LVU16
 108              		.loc 1 51 13 is_stmt 0 view .LVU17
 109 0004 6424     		movs	r4, #100
 110 0006 0294     		str	r4, [sp, #8]
 111 0008 0193     		str	r3, [sp, #4]
 112 000a 0092     		str	r2, [sp]
 113 000c 0123     		movs	r3, #1
 114              	.LVL7:
 115              		.loc 1 51 13 view .LVU18
 116 000e 0A46     		mov	r2, r1
 117              	.LVL8:
 118              		.loc 1 51 13 view .LVU19
 119 0010 3C21     		movs	r1, #60
 120              	.LVL9:
 121              		.loc 1 51 13 view .LVU20
ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 4


 122 0012 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 123              	.LVL10:
  52:Drivers/HMC5883/Src/HMC5883.c ****                               DataW, size, 100);
  53:Drivers/HMC5883/Src/HMC5883.c ****    if(status != HAL_OK)
 124              		.loc 1 53 4 is_stmt 1 view .LVU21
 125              		.loc 1 53 6 is_stmt 0 view .LVU22
 126 0016 08B9     		cbnz	r0, .L10
 127              	.L7:
  54:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR;
  55:Drivers/HMC5883/Src/HMC5883.c ****    return HMC5883L_OK;
  56:Drivers/HMC5883/Src/HMC5883.c **** }
 128              		.loc 1 56 1 view .LVU23
 129 0018 04B0     		add	sp, sp, #16
 130              	.LCFI6:
 131              		.cfi_remember_state
 132              		.cfi_def_cfa_offset 8
 133              		@ sp needed
 134 001a 10BD     		pop	{r4, pc}
 135              	.L10:
 136              	.LCFI7:
 137              		.cfi_restore_state
  54:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR;
 138              		.loc 1 54 14 view .LVU24
 139 001c 0120     		movs	r0, #1
 140              	.LVL11:
  54:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR;
 141              		.loc 1 54 14 view .LVU25
 142 001e FBE7     		b	.L7
 143              		.cfi_endproc
 144              	.LFE236:
 146              		.section	.text.HMC5883L_Get_Gain,"ax",%progbits
 147              		.align	1
 148              		.global	HMC5883L_Get_Gain
 149              		.syntax unified
 150              		.thumb
 151              		.thumb_func
 153              	HMC5883L_Get_Gain:
 154              	.LVL12:
 155              	.LFB237:
  57:Drivers/HMC5883/Src/HMC5883.c **** 
  58:Drivers/HMC5883/Src/HMC5883.c **** /**
  59:Drivers/HMC5883/Src/HMC5883.c ****  * @brief Find the Resolution rely on the Gain configuration.
  60:Drivers/HMC5883/Src/HMC5883.c ****  * @param GainConfig The configuration of the gain attribute.
  61:Drivers/HMC5883/Src/HMC5883.c ****  * @retval float The gain at float type.
  62:Drivers/HMC5883/Src/HMC5883.c ****  */
  63:Drivers/HMC5883/Src/HMC5883.c **** float HMC5883L_Get_Gain (uint8_t GainConfig) {
 156              		.loc 1 63 46 is_stmt 1 view -0
 157              		.cfi_startproc
 158              		@ args = 0, pretend = 0, frame = 0
 159              		@ frame_needed = 0, uses_anonymous_args = 0
 160              		@ link register save eliminated.
  64:Drivers/HMC5883/Src/HMC5883.c ****    float Resolution = 0;
 161              		.loc 1 64 4 view .LVU27
  65:Drivers/HMC5883/Src/HMC5883.c ****    switch (GainConfig) {
 162              		.loc 1 65 4 view .LVU28
 163 0000 8028     		cmp	r0, #128
 164 0002 1AD0     		beq	.L15
ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 5


 165 0004 0DD8     		bhi	.L13
 166 0006 4028     		cmp	r0, #64
 167 0008 1AD0     		beq	.L16
 168 000a 04D9     		bls	.L23
 169 000c 6028     		cmp	r0, #96
 170 000e 20D1     		bne	.L19
  66:Drivers/HMC5883/Src/HMC5883.c ****    case HMC5883L_GAIN_1370:
  67:Drivers/HMC5883/Src/HMC5883.c ****       Resolution = HMC5883L_RESOLUTION_1370;
  68:Drivers/HMC5883/Src/HMC5883.c ****       break;
  69:Drivers/HMC5883/Src/HMC5883.c ****    case HMC5883L_GAIN_1090:
  70:Drivers/HMC5883/Src/HMC5883.c ****       Resolution = HMC5883L_RESOLUTION_1090;
  71:Drivers/HMC5883/Src/HMC5883.c ****       break;
  72:Drivers/HMC5883/Src/HMC5883.c ****    case HMC5883L_GAIN_820:
  73:Drivers/HMC5883/Src/HMC5883.c ****       Resolution = HMC5883L_RESOLUTION_820;
  74:Drivers/HMC5883/Src/HMC5883.c ****       break;
  75:Drivers/HMC5883/Src/HMC5883.c ****    case HMC5883L_GAIN_660:
  76:Drivers/HMC5883/Src/HMC5883.c ****       Resolution = HMC5883L_RESOLUTION_660;
 171              		.loc 1 76 18 is_stmt 0 view .LVU29
 172 0010 9FED140A 		vldr.32	s0, .L25
 173 0014 7047     		bx	lr
 174              	.L23:
  65:Drivers/HMC5883/Src/HMC5883.c ****    switch (GainConfig) {
 175              		.loc 1 65 4 view .LVU30
 176 0016 B0B1     		cbz	r0, .L17
 177 0018 2028     		cmp	r0, #32
 178 001a 17D1     		bne	.L18
  70:Drivers/HMC5883/Src/HMC5883.c ****       break;
 179              		.loc 1 70 18 view .LVU31
 180 001c 9FED120A 		vldr.32	s0, .L25+4
 181 0020 7047     		bx	lr
 182              	.L13:
  65:Drivers/HMC5883/Src/HMC5883.c ****    switch (GainConfig) {
 183              		.loc 1 65 4 view .LVU32
 184 0022 C028     		cmp	r0, #192
 185 0024 18D0     		beq	.L20
 186 0026 E028     		cmp	r0, #224
 187 0028 02D1     		bne	.L24
  77:Drivers/HMC5883/Src/HMC5883.c ****       break;
  78:Drivers/HMC5883/Src/HMC5883.c ****    case HMC5883L_GAIN_440:
  79:Drivers/HMC5883/Src/HMC5883.c ****       Resolution = HMC5883L_RESOLUTION_440;
  80:Drivers/HMC5883/Src/HMC5883.c ****       break;
  81:Drivers/HMC5883/Src/HMC5883.c ****    case HMC5883L_GAIN_390:
  82:Drivers/HMC5883/Src/HMC5883.c ****       Resolution = HMC5883L_RESOLUTION_390;
  83:Drivers/HMC5883/Src/HMC5883.c ****       break;
  84:Drivers/HMC5883/Src/HMC5883.c ****    case HMC5883L_GAIN_330:
  85:Drivers/HMC5883/Src/HMC5883.c ****       Resolution = HMC5883L_RESOLUTION_230;
  86:Drivers/HMC5883/Src/HMC5883.c ****       break;
  87:Drivers/HMC5883/Src/HMC5883.c ****    case HMC5883L_GAIN_230:
  88:Drivers/HMC5883/Src/HMC5883.c ****       Resolution = HMC5883L_RESOLUTION_230;
 188              		.loc 1 88 18 view .LVU33
 189 002a 9FED100A 		vldr.32	s0, .L25+8
 190 002e 7047     		bx	lr
 191              	.L24:
  65:Drivers/HMC5883/Src/HMC5883.c ****    case HMC5883L_GAIN_1370:
 192              		.loc 1 65 4 view .LVU34
 193 0030 A028     		cmp	r0, #160
 194 0032 14D1     		bne	.L22
ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 6


  82:Drivers/HMC5883/Src/HMC5883.c ****       break;
 195              		.loc 1 82 18 view .LVU35
 196 0034 9FED0E0A 		vldr.32	s0, .L25+12
 197 0038 7047     		bx	lr
 198              	.L15:
  79:Drivers/HMC5883/Src/HMC5883.c ****       break;
 199              		.loc 1 79 18 view .LVU36
 200 003a 9FED0E0A 		vldr.32	s0, .L25+16
 201 003e 7047     		bx	lr
 202              	.L16:
  73:Drivers/HMC5883/Src/HMC5883.c ****       break;
 203              		.loc 1 73 18 view .LVU37
 204 0040 9FED0D0A 		vldr.32	s0, .L25+20
 205 0044 7047     		bx	lr
 206              	.L17:
  67:Drivers/HMC5883/Src/HMC5883.c ****       break;
 207              		.loc 1 67 18 view .LVU38
 208 0046 9FED0D0A 		vldr.32	s0, .L25+24
 209 004a 7047     		bx	lr
 210              	.L18:
  65:Drivers/HMC5883/Src/HMC5883.c ****    case HMC5883L_GAIN_1370:
 211              		.loc 1 65 4 view .LVU39
 212 004c 9FED0C0A 		vldr.32	s0, .L25+28
 213 0050 7047     		bx	lr
 214              	.L19:
 215 0052 9FED0B0A 		vldr.32	s0, .L25+28
 216 0056 7047     		bx	lr
 217              	.L20:
  85:Drivers/HMC5883/Src/HMC5883.c ****       break;
 218              		.loc 1 85 18 view .LVU40
 219 0058 9FED040A 		vldr.32	s0, .L25+8
 220 005c 7047     		bx	lr
 221              	.L22:
  65:Drivers/HMC5883/Src/HMC5883.c ****    case HMC5883L_GAIN_1370:
 222              		.loc 1 65 4 view .LVU41
 223 005e 9FED080A 		vldr.32	s0, .L25+28
  89:Drivers/HMC5883/Src/HMC5883.c ****       break;
  90:Drivers/HMC5883/Src/HMC5883.c ****    default:
  91:Drivers/HMC5883/Src/HMC5883.c ****       break;
  92:Drivers/HMC5883/Src/HMC5883.c ****    }
  93:Drivers/HMC5883/Src/HMC5883.c ****    return Resolution;
 224              		.loc 1 93 4 is_stmt 1 view .LVU42
  94:Drivers/HMC5883/Src/HMC5883.c **** }
 225              		.loc 1 94 1 is_stmt 0 view .LVU43
 226 0062 7047     		bx	lr
 227              	.L26:
 228              		.align	2
 229              	.L25:
 230 0064 5C8FC23F 		.word	1069715292
 231 0068 1F856B3F 		.word	1064011039
 232 006c 33338B40 		.word	1082864435
 233 0070 0AD72340 		.word	1076090634
 234 0074 AE471140 		.word	1074874286
 235 0078 F6289C3F 		.word	1067198710
 236 007c 48E13A3F 		.word	1060823368
 237 0080 00000000 		.word	0
 238              		.cfi_endproc
ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 7


 239              	.LFE237:
 241              		.section	.text.HMC5883L_Check_DRY,"ax",%progbits
 242              		.align	1
 243              		.global	HMC5883L_Check_DRY
 244              		.syntax unified
 245              		.thumb
 246              		.thumb_func
 248              	HMC5883L_Check_DRY:
 249              	.LVL13:
 250              	.LFB238:
  95:Drivers/HMC5883/Src/HMC5883.c **** 
  96:Drivers/HMC5883/Src/HMC5883.c **** /**
  97:Drivers/HMC5883/Src/HMC5883.c ****  * @brief Check the DRY header. Must be check before read the value.
  98:Drivers/HMC5883/Src/HMC5883.c ****  * @param Handle The Handle type of the library.
  99:Drivers/HMC5883/Src/HMC5883.c ****  * @retval bool true means ready, false means not ready.
 100:Drivers/HMC5883/Src/HMC5883.c ****  */
 101:Drivers/HMC5883/Src/HMC5883.c **** bool HMC5883L_Check_DRY (HMC5883L_Handle_t *Handle) {
 251              		.loc 1 101 53 is_stmt 1 view -0
 252              		.cfi_startproc
 253              		@ args = 0, pretend = 0, frame = 8
 254              		@ frame_needed = 0, uses_anonymous_args = 0
 255              		.loc 1 101 53 is_stmt 0 view .LVU45
 256 0000 00B5     		push	{lr}
 257              	.LCFI8:
 258              		.cfi_def_cfa_offset 4
 259              		.cfi_offset 14, -4
 260 0002 83B0     		sub	sp, sp, #12
 261              	.LCFI9:
 262              		.cfi_def_cfa_offset 16
 102:Drivers/HMC5883/Src/HMC5883.c ****    bool retval = false;
 263              		.loc 1 102 4 is_stmt 1 view .LVU46
 264              	.LVL14:
 103:Drivers/HMC5883/Src/HMC5883.c ****    uint8_t dataR;
 265              		.loc 1 103 4 view .LVU47
 104:Drivers/HMC5883/Src/HMC5883.c ****    //Read the status register
 105:Drivers/HMC5883/Src/HMC5883.c ****    HMC5883L_Read(Handle, HMC5883L_RA_STATUS, &dataR, 1);
 266              		.loc 1 105 4 view .LVU48
 267 0004 0123     		movs	r3, #1
 268 0006 0DF10702 		add	r2, sp, #7
 269 000a 0921     		movs	r1, #9
 270 000c FFF7FEFF 		bl	HMC5883L_Read
 271              	.LVL15:
 106:Drivers/HMC5883/Src/HMC5883.c ****    retval = dataR & 0x01;
 272              		.loc 1 106 4 view .LVU49
 273              		.loc 1 106 19 is_stmt 0 view .LVU50
 274 0010 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 275              	.LVL16:
 107:Drivers/HMC5883/Src/HMC5883.c ****    return retval;
 276              		.loc 1 107 4 is_stmt 1 view .LVU51
 108:Drivers/HMC5883/Src/HMC5883.c **** }
 277              		.loc 1 108 1 is_stmt 0 view .LVU52
 278 0014 00F00100 		and	r0, r0, #1
 279              	.LVL17:
 280              		.loc 1 108 1 view .LVU53
 281 0018 03B0     		add	sp, sp, #12
 282              	.LCFI10:
 283              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 8


 284              		@ sp needed
 285 001a 5DF804FB 		ldr	pc, [sp], #4
 286              		.loc 1 108 1 view .LVU54
 287              		.cfi_endproc
 288              	.LFE238:
 290              		.section	.text.HMC5883L_Get_Raw,"ax",%progbits
 291              		.align	1
 292              		.global	HMC5883L_Get_Raw
 293              		.syntax unified
 294              		.thumb
 295              		.thumb_func
 297              	HMC5883L_Get_Raw:
 298              	.LVL18:
 299              	.LFB239:
 109:Drivers/HMC5883/Src/HMC5883.c **** 
 110:Drivers/HMC5883/Src/HMC5883.c **** /**
 111:Drivers/HMC5883/Src/HMC5883.c ****  * @brief Read the raw data at three axis.
 112:Drivers/HMC5883/Src/HMC5883.c ****  * @param Handle The pointer of the handle type.
 113:Drivers/HMC5883/Src/HMC5883.c ****  * @retval HMC5883L_Raw_t The value of the field strength at raw type.
 114:Drivers/HMC5883/Src/HMC5883.c ****  */
 115:Drivers/HMC5883/Src/HMC5883.c **** HMC5883L_Raw_t HMC5883L_Get_Raw (HMC5883L_Handle_t *Handle) {
 300              		.loc 1 115 61 is_stmt 1 view -0
 301              		.cfi_startproc
 302              		@ args = 0, pretend = 0, frame = 8
 303              		@ frame_needed = 0, uses_anonymous_args = 0
 304              		.loc 1 115 61 is_stmt 0 view .LVU56
 305 0000 30B5     		push	{r4, r5, lr}
 306              	.LCFI11:
 307              		.cfi_def_cfa_offset 12
 308              		.cfi_offset 4, -12
 309              		.cfi_offset 5, -8
 310              		.cfi_offset 14, -4
 311 0002 83B0     		sub	sp, sp, #12
 312              	.LCFI12:
 313              		.cfi_def_cfa_offset 24
 314 0004 0446     		mov	r4, r0
 315 0006 0D46     		mov	r5, r1
 116:Drivers/HMC5883/Src/HMC5883.c ****    HMC5883L_Raw_t retval;
 316              		.loc 1 116 4 is_stmt 1 view .LVU57
 117:Drivers/HMC5883/Src/HMC5883.c ****    bool checkDRY = false;
 317              		.loc 1 117 4 view .LVU58
 318              	.LVL19:
 118:Drivers/HMC5883/Src/HMC5883.c ****    uint8_t dataR[6];
 319              		.loc 1 118 4 view .LVU59
 119:Drivers/HMC5883/Src/HMC5883.c ****    retval.x = 0;
 320              		.loc 1 119 4 view .LVU60
 321              		.loc 1 119 13 is_stmt 0 view .LVU61
 322 0008 0023     		movs	r3, #0
 323 000a 0380     		strh	r3, [r0]	@ movhi
 120:Drivers/HMC5883/Src/HMC5883.c ****    //Read the DRY
 121:Drivers/HMC5883/Src/HMC5883.c ****    checkDRY = HMC5883L_Check_DRY(Handle);
 324              		.loc 1 121 4 is_stmt 1 view .LVU62
 325              		.loc 1 121 15 is_stmt 0 view .LVU63
 326 000c 0846     		mov	r0, r1
 327              	.LVL20:
 328              		.loc 1 121 15 view .LVU64
 329 000e FFF7FEFF 		bl	HMC5883L_Check_DRY
ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 9


 330              	.LVL21:
 122:Drivers/HMC5883/Src/HMC5883.c ****    //Read the X, Y, Z register value
 123:Drivers/HMC5883/Src/HMC5883.c ****    if(checkDRY == true) {
 331              		.loc 1 123 4 is_stmt 1 view .LVU65
 332              		.loc 1 123 6 is_stmt 0 view .LVU66
 333 0012 10B9     		cbnz	r0, .L32
 334              	.LVL22:
 335              	.L29:
 124:Drivers/HMC5883/Src/HMC5883.c ****       HMC5883L_Read(Handle, HMC5883L_RA_DATAX_H, dataR, 6);
 125:Drivers/HMC5883/Src/HMC5883.c ****       retval.x = dataR[0] << 8 | dataR[1];
 126:Drivers/HMC5883/Src/HMC5883.c ****       retval.z = dataR[2] << 8 | dataR[3];
 127:Drivers/HMC5883/Src/HMC5883.c ****       retval.y = dataR[4] << 8 | dataR[5];
 128:Drivers/HMC5883/Src/HMC5883.c ****    }
 129:Drivers/HMC5883/Src/HMC5883.c ****    return retval;
 130:Drivers/HMC5883/Src/HMC5883.c **** }
 336              		.loc 1 130 1 view .LVU67
 337 0014 2046     		mov	r0, r4
 338 0016 03B0     		add	sp, sp, #12
 339              	.LCFI13:
 340              		.cfi_remember_state
 341              		.cfi_def_cfa_offset 12
 342              		@ sp needed
 343 0018 30BD     		pop	{r4, r5, pc}
 344              	.LVL23:
 345              	.L32:
 346              	.LCFI14:
 347              		.cfi_restore_state
 124:Drivers/HMC5883/Src/HMC5883.c ****       HMC5883L_Read(Handle, HMC5883L_RA_DATAX_H, dataR, 6);
 348              		.loc 1 124 7 is_stmt 1 view .LVU68
 349 001a 0623     		movs	r3, #6
 350 001c 6A46     		mov	r2, sp
 351 001e 0321     		movs	r1, #3
 352 0020 2846     		mov	r0, r5
 353              	.LVL24:
 124:Drivers/HMC5883/Src/HMC5883.c ****       HMC5883L_Read(Handle, HMC5883L_RA_DATAX_H, dataR, 6);
 354              		.loc 1 124 7 is_stmt 0 view .LVU69
 355 0022 FFF7FEFF 		bl	HMC5883L_Read
 356              	.LVL25:
 125:Drivers/HMC5883/Src/HMC5883.c ****       retval.z = dataR[2] << 8 | dataR[3];
 357              		.loc 1 125 7 is_stmt 1 view .LVU70
 125:Drivers/HMC5883/Src/HMC5883.c ****       retval.z = dataR[2] << 8 | dataR[3];
 358              		.loc 1 125 23 is_stmt 0 view .LVU71
 359 0026 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
 125:Drivers/HMC5883/Src/HMC5883.c ****       retval.z = dataR[2] << 8 | dataR[3];
 360              		.loc 1 125 39 view .LVU72
 361 002a 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 125:Drivers/HMC5883/Src/HMC5883.c ****       retval.z = dataR[2] << 8 | dataR[3];
 362              		.loc 1 125 32 view .LVU73
 363 002e 43EA0223 		orr	r3, r3, r2, lsl #8
 125:Drivers/HMC5883/Src/HMC5883.c ****       retval.z = dataR[2] << 8 | dataR[3];
 364              		.loc 1 125 16 view .LVU74
 365 0032 2380     		strh	r3, [r4]	@ movhi
 126:Drivers/HMC5883/Src/HMC5883.c ****       retval.y = dataR[4] << 8 | dataR[5];
 366              		.loc 1 126 7 is_stmt 1 view .LVU75
 126:Drivers/HMC5883/Src/HMC5883.c ****       retval.y = dataR[4] << 8 | dataR[5];
 367              		.loc 1 126 23 is_stmt 0 view .LVU76
 368 0034 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 10


 126:Drivers/HMC5883/Src/HMC5883.c ****       retval.y = dataR[4] << 8 | dataR[5];
 369              		.loc 1 126 39 view .LVU77
 370 0038 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 126:Drivers/HMC5883/Src/HMC5883.c ****       retval.y = dataR[4] << 8 | dataR[5];
 371              		.loc 1 126 32 view .LVU78
 372 003c 43EA0223 		orr	r3, r3, r2, lsl #8
 126:Drivers/HMC5883/Src/HMC5883.c ****       retval.y = dataR[4] << 8 | dataR[5];
 373              		.loc 1 126 16 view .LVU79
 374 0040 A380     		strh	r3, [r4, #4]	@ movhi
 127:Drivers/HMC5883/Src/HMC5883.c ****    }
 375              		.loc 1 127 7 is_stmt 1 view .LVU80
 127:Drivers/HMC5883/Src/HMC5883.c ****    }
 376              		.loc 1 127 23 is_stmt 0 view .LVU81
 377 0042 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 127:Drivers/HMC5883/Src/HMC5883.c ****    }
 378              		.loc 1 127 39 view .LVU82
 379 0046 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 127:Drivers/HMC5883/Src/HMC5883.c ****    }
 380              		.loc 1 127 32 view .LVU83
 381 004a 43EA0223 		orr	r3, r3, r2, lsl #8
 127:Drivers/HMC5883/Src/HMC5883.c ****    }
 382              		.loc 1 127 16 view .LVU84
 383 004e 6380     		strh	r3, [r4, #2]	@ movhi
 129:Drivers/HMC5883/Src/HMC5883.c **** }
 384              		.loc 1 129 4 is_stmt 1 view .LVU85
 129:Drivers/HMC5883/Src/HMC5883.c **** }
 385              		.loc 1 129 11 is_stmt 0 view .LVU86
 386 0050 E0E7     		b	.L29
 387              		.cfi_endproc
 388              	.LFE239:
 390              		.section	.text.HMC5883L_Init,"ax",%progbits
 391              		.align	1
 392              		.global	HMC5883L_Init
 393              		.syntax unified
 394              		.thumb
 395              		.thumb_func
 397              	HMC5883L_Init:
 398              	.LVL26:
 399              	.LFB240:
 131:Drivers/HMC5883/Src/HMC5883.c **** 
 132:Drivers/HMC5883/Src/HMC5883.c **** /**
 133:Drivers/HMC5883/Src/HMC5883.c ****  * @brief Initialize the HMC5883L.
 134:Drivers/HMC5883/Src/HMC5883.c ****  * @param Handle The handle of the initialization.
 135:Drivers/HMC5883/Src/HMC5883.c ****  * @param I2c The handle type of the I2C.
 136:Drivers/HMC5883/Src/HMC5883.c ****  * @retval HMC5883L_State_t The state of the IC after initialize.
 137:Drivers/HMC5883/Src/HMC5883.c ****  */
 138:Drivers/HMC5883/Src/HMC5883.c **** HMC5883L_State_t HMC5883L_Init (HMC5883L_Handle_t *Handle, I2C_HandleTypeDef *I2c) {
 400              		.loc 1 138 84 is_stmt 1 view -0
 401              		.cfi_startproc
 402              		@ args = 0, pretend = 0, frame = 8
 403              		@ frame_needed = 0, uses_anonymous_args = 0
 404              		.loc 1 138 84 is_stmt 0 view .LVU88
 405 0000 30B5     		push	{r4, r5, lr}
 406              	.LCFI15:
 407              		.cfi_def_cfa_offset 12
 408              		.cfi_offset 4, -12
 409              		.cfi_offset 5, -8
ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 11


 410              		.cfi_offset 14, -4
 411 0002 83B0     		sub	sp, sp, #12
 412              	.LCFI16:
 413              		.cfi_def_cfa_offset 24
 414 0004 0446     		mov	r4, r0
 139:Drivers/HMC5883/Src/HMC5883.c ****    //Local Variable
 140:Drivers/HMC5883/Src/HMC5883.c ****    HMC5883L_Status_t Status;
 415              		.loc 1 140 4 is_stmt 1 view .LVU89
 141:Drivers/HMC5883/Src/HMC5883.c ****    uint8_t DataR;
 416              		.loc 1 141 4 view .LVU90
 142:Drivers/HMC5883/Src/HMC5883.c ****    uint8_t DataW;
 417              		.loc 1 142 4 view .LVU91
 143:Drivers/HMC5883/Src/HMC5883.c ****    //Copy the I2C typedef and the Init struct
 144:Drivers/HMC5883/Src/HMC5883.c ****    memcpy(&Handle->hi2c, I2c, sizeof(Handle->hi2c));
 418              		.loc 1 144 4 view .LVU92
 419 0006 5422     		movs	r2, #84
 420 0008 FFF7FEFF 		bl	memcpy
 421              	.LVL27:
 145:Drivers/HMC5883/Src/HMC5883.c ****    //Read the Identify A register
 146:Drivers/HMC5883/Src/HMC5883.c ****    Status = HMC5883L_Read(Handle, HMC5883L_RA_ID_A, &DataR, 1);
 422              		.loc 1 146 4 view .LVU93
 423              		.loc 1 146 13 is_stmt 0 view .LVU94
 424 000c 0123     		movs	r3, #1
 425 000e 0DF10702 		add	r2, sp, #7
 426 0012 0A21     		movs	r1, #10
 427 0014 2046     		mov	r0, r4
 428 0016 FFF7FEFF 		bl	HMC5883L_Read
 429              	.LVL28:
 147:Drivers/HMC5883/Src/HMC5883.c ****    if (Status != HMC5883L_OK)
 430              		.loc 1 147 4 is_stmt 1 view .LVU95
 431              		.loc 1 147 7 is_stmt 0 view .LVU96
 432 001a 0028     		cmp	r0, #0
 433 001c 41D1     		bne	.L35
 148:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR_STATE;
 149:Drivers/HMC5883/Src/HMC5883.c ****    if(DataR != HMC5883L_IDENTIFY_A)
 434              		.loc 1 149 4 is_stmt 1 view .LVU97
 435              		.loc 1 149 13 is_stmt 0 view .LVU98
 436 001e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 437              		.loc 1 149 6 view .LVU99
 438 0022 482B     		cmp	r3, #72
 439 0024 03D0     		beq	.L41
 150:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_UN_IDENTIFY_STATE;
 440              		.loc 1 150 14 view .LVU100
 441 0026 0125     		movs	r5, #1
 442              	.LVL29:
 443              	.L34:
 151:Drivers/HMC5883/Src/HMC5883.c ****    //Configure the HMC5883L IC
 152:Drivers/HMC5883/Src/HMC5883.c ****    //Configure the Configuration Register A
 153:Drivers/HMC5883/Src/HMC5883.c ****    DataW = 0x00;
 154:Drivers/HMC5883/Src/HMC5883.c ****    DataW = Handle->Init.Average | Handle->Init.OutputRate |
 155:Drivers/HMC5883/Src/HMC5883.c ****            Handle->Init.Bias;
 156:Drivers/HMC5883/Src/HMC5883.c ****    Status = HMC5883L_Write(Handle, HMC5883L_RA_CONFIG_A, &DataW, 1);
 157:Drivers/HMC5883/Src/HMC5883.c ****    if(Status != HMC5883L_OK)
 158:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR_STATE;
 159:Drivers/HMC5883/Src/HMC5883.c ****    //Configure the Configuration Register B
 160:Drivers/HMC5883/Src/HMC5883.c ****    DataW = 0x00;
 161:Drivers/HMC5883/Src/HMC5883.c ****    DataW = Handle->Init.Gain;
ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 12


 162:Drivers/HMC5883/Src/HMC5883.c ****    Status = HMC5883L_Write(Handle, HMC5883L_RA_CONFIG_B, &DataW, 1);
 163:Drivers/HMC5883/Src/HMC5883.c ****    if(Status != HMC5883L_OK)
 164:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR_STATE;
 165:Drivers/HMC5883/Src/HMC5883.c ****    //Configure the MODE
 166:Drivers/HMC5883/Src/HMC5883.c ****    DataW = 0x00;
 167:Drivers/HMC5883/Src/HMC5883.c ****    DataW = Handle->Init.Mode;
 168:Drivers/HMC5883/Src/HMC5883.c ****    Status = HMC5883L_Write(Handle, HMC5883L_RA_MODE, &DataW, 1);
 169:Drivers/HMC5883/Src/HMC5883.c ****    if(Status != HMC5883L_OK)
 170:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR_STATE;
 171:Drivers/HMC5883/Src/HMC5883.c ****    //Get the Resolution
 172:Drivers/HMC5883/Src/HMC5883.c ****    Handle->Resolution = HMC5883L_Get_Gain(Handle->Init.Gain);
 173:Drivers/HMC5883/Src/HMC5883.c ****    //Return value
 174:Drivers/HMC5883/Src/HMC5883.c ****    return HMC5883L_OK_STATE;
 175:Drivers/HMC5883/Src/HMC5883.c **** }
 444              		.loc 1 175 1 view .LVU101
 445 0028 2846     		mov	r0, r5
 446 002a 03B0     		add	sp, sp, #12
 447              	.LCFI17:
 448              		.cfi_remember_state
 449              		.cfi_def_cfa_offset 12
 450              		@ sp needed
 451 002c 30BD     		pop	{r4, r5, pc}
 452              	.LVL30:
 453              	.L41:
 454              	.LCFI18:
 455              		.cfi_restore_state
 153:Drivers/HMC5883/Src/HMC5883.c ****    DataW = Handle->Init.Average | Handle->Init.OutputRate |
 456              		.loc 1 153 4 is_stmt 1 view .LVU102
 153:Drivers/HMC5883/Src/HMC5883.c ****    DataW = Handle->Init.Average | Handle->Init.OutputRate |
 457              		.loc 1 153 10 is_stmt 0 view .LVU103
 458 002e 0021     		movs	r1, #0
 459 0030 8DF80610 		strb	r1, [sp, #6]
 154:Drivers/HMC5883/Src/HMC5883.c ****            Handle->Init.Bias;
 460              		.loc 1 154 4 is_stmt 1 view .LVU104
 154:Drivers/HMC5883/Src/HMC5883.c ****            Handle->Init.Bias;
 461              		.loc 1 154 24 is_stmt 0 view .LVU105
 462 0034 94F85620 		ldrb	r2, [r4, #86]	@ zero_extendqisi2
 154:Drivers/HMC5883/Src/HMC5883.c ****            Handle->Init.Bias;
 463              		.loc 1 154 47 view .LVU106
 464 0038 94F85700 		ldrb	r0, [r4, #87]	@ zero_extendqisi2
 465              	.LVL31:
 155:Drivers/HMC5883/Src/HMC5883.c ****    Status = HMC5883L_Write(Handle, HMC5883L_RA_CONFIG_A, &DataW, 1);
 466              		.loc 1 155 24 view .LVU107
 467 003c 94F85830 		ldrb	r3, [r4, #88]	@ zero_extendqisi2
 154:Drivers/HMC5883/Src/HMC5883.c ****            Handle->Init.Bias;
 468              		.loc 1 154 10 view .LVU108
 469 0040 0243     		orrs	r2, r2, r0
 470 0042 1343     		orrs	r3, r3, r2
 471 0044 8DF80630 		strb	r3, [sp, #6]
 156:Drivers/HMC5883/Src/HMC5883.c ****    if(Status != HMC5883L_OK)
 472              		.loc 1 156 4 is_stmt 1 view .LVU109
 156:Drivers/HMC5883/Src/HMC5883.c ****    if(Status != HMC5883L_OK)
 473              		.loc 1 156 13 is_stmt 0 view .LVU110
 474 0048 0123     		movs	r3, #1
 475 004a 0DF10602 		add	r2, sp, #6
 476 004e 2046     		mov	r0, r4
 477 0050 FFF7FEFF 		bl	HMC5883L_Write
ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 13


 478              	.LVL32:
 157:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR_STATE;
 479              		.loc 1 157 4 is_stmt 1 view .LVU111
 157:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR_STATE;
 480              		.loc 1 157 6 is_stmt 0 view .LVU112
 481 0054 38BB     		cbnz	r0, .L37
 160:Drivers/HMC5883/Src/HMC5883.c ****    DataW = Handle->Init.Gain;
 482              		.loc 1 160 4 is_stmt 1 view .LVU113
 160:Drivers/HMC5883/Src/HMC5883.c ****    DataW = Handle->Init.Gain;
 483              		.loc 1 160 10 is_stmt 0 view .LVU114
 484 0056 0023     		movs	r3, #0
 485 0058 8DF80630 		strb	r3, [sp, #6]
 161:Drivers/HMC5883/Src/HMC5883.c ****    Status = HMC5883L_Write(Handle, HMC5883L_RA_CONFIG_B, &DataW, 1);
 486              		.loc 1 161 4 is_stmt 1 view .LVU115
 161:Drivers/HMC5883/Src/HMC5883.c ****    Status = HMC5883L_Write(Handle, HMC5883L_RA_CONFIG_B, &DataW, 1);
 487              		.loc 1 161 24 is_stmt 0 view .LVU116
 488 005c 94F85930 		ldrb	r3, [r4, #89]	@ zero_extendqisi2
 161:Drivers/HMC5883/Src/HMC5883.c ****    Status = HMC5883L_Write(Handle, HMC5883L_RA_CONFIG_B, &DataW, 1);
 489              		.loc 1 161 10 view .LVU117
 490 0060 8DF80630 		strb	r3, [sp, #6]
 162:Drivers/HMC5883/Src/HMC5883.c ****    if(Status != HMC5883L_OK)
 491              		.loc 1 162 4 is_stmt 1 view .LVU118
 162:Drivers/HMC5883/Src/HMC5883.c ****    if(Status != HMC5883L_OK)
 492              		.loc 1 162 13 is_stmt 0 view .LVU119
 493 0064 0123     		movs	r3, #1
 494 0066 0DF10602 		add	r2, sp, #6
 495 006a 1946     		mov	r1, r3
 496 006c 2046     		mov	r0, r4
 497              	.LVL33:
 162:Drivers/HMC5883/Src/HMC5883.c ****    if(Status != HMC5883L_OK)
 498              		.loc 1 162 13 view .LVU120
 499 006e FFF7FEFF 		bl	HMC5883L_Write
 500              	.LVL34:
 163:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR_STATE;
 501              		.loc 1 163 4 is_stmt 1 view .LVU121
 163:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR_STATE;
 502              		.loc 1 163 6 is_stmt 0 view .LVU122
 503 0072 D0B9     		cbnz	r0, .L38
 166:Drivers/HMC5883/Src/HMC5883.c ****    DataW = Handle->Init.Mode;
 504              		.loc 1 166 4 is_stmt 1 view .LVU123
 166:Drivers/HMC5883/Src/HMC5883.c ****    DataW = Handle->Init.Mode;
 505              		.loc 1 166 10 is_stmt 0 view .LVU124
 506 0074 0023     		movs	r3, #0
 507 0076 8DF80630 		strb	r3, [sp, #6]
 167:Drivers/HMC5883/Src/HMC5883.c ****    Status = HMC5883L_Write(Handle, HMC5883L_RA_MODE, &DataW, 1);
 508              		.loc 1 167 4 is_stmt 1 view .LVU125
 167:Drivers/HMC5883/Src/HMC5883.c ****    Status = HMC5883L_Write(Handle, HMC5883L_RA_MODE, &DataW, 1);
 509              		.loc 1 167 24 is_stmt 0 view .LVU126
 510 007a 94F85A30 		ldrb	r3, [r4, #90]	@ zero_extendqisi2
 167:Drivers/HMC5883/Src/HMC5883.c ****    Status = HMC5883L_Write(Handle, HMC5883L_RA_MODE, &DataW, 1);
 511              		.loc 1 167 10 view .LVU127
 512 007e 8DF80630 		strb	r3, [sp, #6]
 168:Drivers/HMC5883/Src/HMC5883.c ****    if(Status != HMC5883L_OK)
 513              		.loc 1 168 4 is_stmt 1 view .LVU128
 168:Drivers/HMC5883/Src/HMC5883.c ****    if(Status != HMC5883L_OK)
 514              		.loc 1 168 13 is_stmt 0 view .LVU129
 515 0082 0123     		movs	r3, #1
ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 14


 516 0084 0DF10602 		add	r2, sp, #6
 517 0088 0221     		movs	r1, #2
 518 008a 2046     		mov	r0, r4
 519              	.LVL35:
 168:Drivers/HMC5883/Src/HMC5883.c ****    if(Status != HMC5883L_OK)
 520              		.loc 1 168 13 view .LVU130
 521 008c FFF7FEFF 		bl	HMC5883L_Write
 522              	.LVL36:
 169:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR_STATE;
 523              		.loc 1 169 4 is_stmt 1 view .LVU131
 169:Drivers/HMC5883/Src/HMC5883.c ****       return HMC5883L_ERROR_STATE;
 524              		.loc 1 169 6 is_stmt 0 view .LVU132
 525 0090 0546     		mov	r5, r0
 526 0092 60B9     		cbnz	r0, .L39
 172:Drivers/HMC5883/Src/HMC5883.c ****    //Return value
 527              		.loc 1 172 4 is_stmt 1 view .LVU133
 172:Drivers/HMC5883/Src/HMC5883.c ****    //Return value
 528              		.loc 1 172 25 is_stmt 0 view .LVU134
 529 0094 94F85900 		ldrb	r0, [r4, #89]	@ zero_extendqisi2
 530              	.LVL37:
 172:Drivers/HMC5883/Src/HMC5883.c ****    //Return value
 531              		.loc 1 172 25 view .LVU135
 532 0098 FFF7FEFF 		bl	HMC5883L_Get_Gain
 533              	.LVL38:
 172:Drivers/HMC5883/Src/HMC5883.c ****    //Return value
 534              		.loc 1 172 23 view .LVU136
 535 009c 84ED170A 		vstr.32	s0, [r4, #92]
 174:Drivers/HMC5883/Src/HMC5883.c **** }
 536              		.loc 1 174 4 is_stmt 1 view .LVU137
 174:Drivers/HMC5883/Src/HMC5883.c **** }
 537              		.loc 1 174 11 is_stmt 0 view .LVU138
 538 00a0 C2E7     		b	.L34
 539              	.LVL39:
 540              	.L35:
 148:Drivers/HMC5883/Src/HMC5883.c ****    if(DataR != HMC5883L_IDENTIFY_A)
 541              		.loc 1 148 14 view .LVU139
 542 00a2 0225     		movs	r5, #2
 543 00a4 C0E7     		b	.L34
 544              	.L37:
 158:Drivers/HMC5883/Src/HMC5883.c ****    //Configure the Configuration Register B
 545              		.loc 1 158 14 view .LVU140
 546 00a6 0225     		movs	r5, #2
 547 00a8 BEE7     		b	.L34
 548              	.L38:
 164:Drivers/HMC5883/Src/HMC5883.c ****    //Configure the MODE
 549              		.loc 1 164 14 view .LVU141
 550 00aa 0225     		movs	r5, #2
 551 00ac BCE7     		b	.L34
 552              	.L39:
 170:Drivers/HMC5883/Src/HMC5883.c ****    //Get the Resolution
 553              		.loc 1 170 14 view .LVU142
 554 00ae 0225     		movs	r5, #2
 555 00b0 BAE7     		b	.L34
 556              		.cfi_endproc
 557              	.LFE240:
 559              		.text
 560              	.Letext0:
ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 15


 561              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 562              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 563              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 564              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 565              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 566              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 567              		.file 8 "Drivers/HMC5883/Inc/HMC5883.h"
 568              		.file 9 "<built-in>"
ARM GAS  C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s 			page 16


DEFINED SYMBOLS
                            *ABS*:00000000 HMC5883.c
C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s:20     .text.HMC5883L_Read:00000000 $t
C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s:26     .text.HMC5883L_Read:00000000 HMC5883L_Read
C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s:84     .text.HMC5883L_Write:00000000 $t
C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s:90     .text.HMC5883L_Write:00000000 HMC5883L_Write
C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s:147    .text.HMC5883L_Get_Gain:00000000 $t
C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s:153    .text.HMC5883L_Get_Gain:00000000 HMC5883L_Get_Gain
C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s:230    .text.HMC5883L_Get_Gain:00000064 $d
C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s:242    .text.HMC5883L_Check_DRY:00000000 $t
C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s:248    .text.HMC5883L_Check_DRY:00000000 HMC5883L_Check_DRY
C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s:291    .text.HMC5883L_Get_Raw:00000000 $t
C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s:297    .text.HMC5883L_Get_Raw:00000000 HMC5883L_Get_Raw
C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s:391    .text.HMC5883L_Init:00000000 $t
C:\Users\sangt\AppData\Local\Temp\ccxXwv3a.s:397    .text.HMC5883L_Init:00000000 HMC5883L_Init

UNDEFINED SYMBOLS
HAL_I2C_Mem_Read
HAL_I2C_Mem_Write
memcpy
